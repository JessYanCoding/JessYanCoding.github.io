---
layout: post
title: 我们为什么要把Dagger2,MVP以及Rxjava引入项目中?
tags: [MVP,Rxjava,Dagger]
modified: 2016-11-11
image:
  feature: abstract-10.jpg
---

# Why?

## 我们为什么要把Dagger2,MVP以及Rxjava引入项目中?

* 毫无疑问在**Android**开发圈中这三个技术是经常被提及的,如此多的文章和开源项目在介绍他们,使用他们,开发者也或多或少的被带动起来在自己的项目中使用他们,但是使用他们之前我们知道为什么要使用他们,他们能给我们带来什么好处吗,还是只是跟随潮流

## 其实我们大多数项目中是使用不到他们的,或者说对这些技术的需求不是很大,为什么这么说呢？

* 大多数的开发者其实都是在开发功能模块比较少的小项目,对于这些项目来说,其实使用这些技术带来的好处相对于在开发时的所付出的时间来说其实性价比并不高,因为学习这些会有个学习曲线,并且这些技术并不会让你的开发速度加快,相反会让你多写很多代码,比如**MVP**和**Dagger**都会让你多写很多类和接口

* 所以说我们开发小项目根本是感觉不到这些技术给我们带来的好处,也会困惑我们为什么要引入这些技术?

## 那为什么这些技术会这么火呢？

* 其实这些困惑大多出现在一直做功能模块比较少的小项目的开发者上,只要你做过比较大的项目,随着代码的增多你就会遇到代码的耦合,团队协作时冲突的解决,类依赖的复杂度等问题,其实这些技术就是来解决这些问题的,所以这些技术大项目用的非常多

## 这些技术出现是为了解决什么？

* 想灵活运用一个技术,必然要了解这些技术为什么出现,出现是为了解决什么问题

> MVP

>>**MVP**的文章很多,我这里就不做过多介绍,我个人的理解就是解耦和扩展以及团队协作,大多数文章都只是介绍了怎么写**MVP**接口,我们不懂为什么用他们,就算会写也只是再做复制粘贴

>> 举个栗子
>>>* 我们需要用户点击按钮从网络获取一段新闻消息显示到**TextView**上,如果都在**Activity**中做这些事情,OK,非常爽,不用多写**MVP**相关的接口和类,啪啪啪一下就写完了

>>>* 但是我们现在需求变了,我们要加入缓存,并且不用**TextView**显示,使用**Toast**显示,现在去改**Activity**,虽然麻烦,但是没问题都是你写的,改改也没问题,但是这个如果不是你写的,你现在去改,要把逻辑重新看一遍,在重新修改之前的代码,如果逻辑一复杂,你重新看一遍逻辑要时间,并且如果改错的话,会影响之前已经写好的功能,这完全违背开闭原则
>>>* 但是我们用**MVP**去开发,就可以缩小这些问题,我们只需要在**Model**层加入缓存逻辑,因为**Presenter**层拿到的是**Model**的接口,他只关心**Model**层返回的数据,至于你的接口是怎么实现的,你的数据是从网络还是数据库还是本地文件获取的,根本不必关心
>>>* **Presenter**拿到的也是**View**的接口,**Presenter**从**Model**获取完数据,返回给**View**,就完成了他的工作,他根本不用管**View**是怎么实现的,使用**TextView**显示还是**Toast**显示,这些都是**View**的事情,所以他们每层只用把各自的事情做好根本不用管以外的事情
>>>* 这样我们就可以把**View**,**Presenter,****Model**拿给三个不同的人写,需求一变不会影响整个代码,将问题最小化,比如**UI**需求一变我们只用修改**View**层,出了问题可以马上定位,并且易于测试

> Dagger

>> Dagger的门槛个人认为在这三个中是最高的,相关的文章也很多,但是都很多只是告诉你该怎么写这些类,注解该怎么用,很多都没讲为什么不直接**new**,为什么要把如此简单的事情弄这么复杂?其实这还是和项目的大小有关,因为它解决的问题就是大项目的需求

>> 举个栗子

>>> 我们现在需要一个类叫**Car**,**Car**中需要持有一个叫**People**的对象,**People**中又需要持有**key**对象,Ok,这还不简单

```
Car car = new Car(new People(new Key()));
```
>>> 但是如果遇到复杂的情况




> RxJava

>> 提到**Rxjava**最多人都是用来处理,线程调度,回调地狱,加上`Retrofit`又支持**Rxjava**,所以大部分开发者都只会在请求网络和需要切换线程的时候用到**Rxjava**,其实它又一个最重要的特性,它可以让数据的流向更加直观,代码更清晰

>> 举个栗子

>>> 比如说一个庞大的项目,一个事件的传递可能要经历很多方法,方法套方法,一个个方法跳进去看,跳过去跳过来很容易把,脑袋弄晕,不够直观,但是**Rxjava**可以把所有逻辑用链式的方式呈现,有哪些操作,谁在前谁在后非常直观,逻辑清晰,就算不是你写的你也可以很快的了解,你可以把它看作一条河流,整个过程就是对里面的水流做进行加工,懂了这个特性我们才知道在复杂的逻辑中运用**Rxjava**是多么的重要


# 结语
* 学习新技术,我们不应该盲目的跟风,我们如果不知道这个技术为什么出现,出现是为了解决什么,我也就不知道为什么运用它,我们就算在项目中使用也无法灵活运用,非常浅显的使用,复杂粘贴一些模版代码,也根本无法扩展自己的思维

* 这些技术虽然比较适合大项目一点,但是还是建议各位开发者开始使用他们,使用他们能扩展自己的思维,让自己考虑耦合,扩展,团队协作之内大项目才会考虑的问题,你如果一直重复的按最简单的方式敲代码什么都不考虑,你就算是5年经验,也只是以第一年的经验重复5年

* 最后介绍一个将**MVP**,**Dagger**,**Retrofit**,**Rxjava**等技术相结合的一个快速搭建框架,如果搭建的是新项目改了包名就可以直接使用,包含详细的文档,相比于这些技术漫长的学习曲线,我们在实践中学习他们不是更快吗？后面我会写一篇文章,介绍它是怎么将**MVP**,**Dagger**结合使用到框架中的

# Where?

> [MVPArms一个Mvp快速搭建框架,欢迎你的Star和Issues](https://github.com/JessYanCoding/MVPArms)

