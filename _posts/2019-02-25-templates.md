---
layout: post
title: æ•ˆç‡æå‡ç™¾åˆ†ä¹‹å››åï¼ŒASæ¨¡æ¿ä¹Ÿå¤ªå¥½ç”¨äº†å§
tags: [Templates]
modified: 2019-02-25
image:
  feature: abstract-1.jpg
---

CV å·¥ç¨‹å¸ˆä½ å¥½ï¼Œä»¥ä¸‹å†…å®¹ä¼šè®©ä½ æ„Ÿè§‰åˆ°ä¸é€‚ï¼Œæ…å…¥ï¼


![image](http://upload-images.jianshu.io/upload_images/2974769-1140507e223ed1c4?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

åœ¨å¹³æ—¶çš„å¼€å‘å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸å°†ä¸€ä¸ªåœ°æ–¹çš„ä»£ç ï¼Œå¤åˆ¶ç²˜è´´åˆ°å¦å¤–ä¸€ä¸ªåœ°æ–¹ï¼Œä¿—ç§°æ¬ç –ï¼Œæ¬ç –æ¬å¤šäº†ï¼Œä½œä¸ºä¸€ä¸ªèµ„æ·±çš„æŒ¨è¸¢æ°‘å·¥ï¼Œéš¾å…ä¼šæ€»ç»“ä¸€äº›æé«˜ç”Ÿäº§åŠ›çš„æ¬ç –ç»éªŒ


![image](http://upload-images.jianshu.io/upload_images/2974769-3b1afc8d85f75091?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

Android Studio æ¨¡æ¿æ˜¯ä¸ªæé«˜ç”Ÿäº§åŠ›çš„å¥½ä¸œè¥¿ï¼Œä½¿ç”¨è¿‡ MVPArms çš„æœ‹å‹ï¼Œéƒ½åº”è¯¥ä½¿ç”¨è¿‡æˆ‘æä¾›çš„é…å¥—æ¨¡æ¿ï¼Œä½¿ç”¨è¯¥å¥—æ¨¡æ¿ï¼Œä¸€é”®å³å¯ç”Ÿæˆæ•´ä¸ªé¡µé¢éœ€è¦çš„æ‰€æœ‰æ–‡ä»¶ï¼Œç”šè‡³è¿˜å¯ä»¥ä¸€é”®ç”Ÿæˆæ•´ä¸ª Moduleï¼ŒçœŸæ­£çš„è§£æ”¾äº†å¤§å®¶çš„åŒæ‰‹ï¼Œè®©å¤§å®¶çš„åŒæ‰‹å¯ä»¥å»åšæ›´å¤šçƒ­çˆ±çš„äº‹æƒ…


![image](http://upload-images.jianshu.io/upload_images/2974769-dadd1cf5da805a4d?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

Android Stuidio æ¨¡æ¿ä¸€å…±æœ‰ 4 ç§ç±»å‹ï¼Œåˆ†åˆ«å¯¹åº”ä¸åŒçš„åŠŸèƒ½ï¼Œæˆ‘å…ˆæ¥ç®€å•ä»‹ç»ä¸‹è¿™ 4 ç§æ¨¡æ¿ï¼Œæœ€åå†ç€é‡ä»‹ç»ä¸‹ä¸€é”®ç”Ÿæˆ Module çš„æ¨¡æ¿ï¼Œå› ä¸ºå‰é¢ 3 ç§æ¨¡æ¿åœ¨ç½‘ä¸Šæœ‰å¤ªå¤šä¼˜ç§€çš„æ•™ç¨‹äº†ï¼Œè€Œ Module æ¨¡æ¿çš„èµ„æ–™éå¸¸å°‘ï¼Œæˆ‘å†é‡å¤å†™ä¸€éå‰ 3 ç§æ¨¡æ¿çš„æ•™ç¨‹ä¹Ÿä¸ä¸€å®šæœ‰åˆ«äººå†™å¾—å¥½ï¼Œæ„ä¹‰å¹¶ä¸å¤§ï¼Œæ‰€ä»¥æˆ‘å‰é¢åªåšç®€å•ä»‹ç»ï¼Œåé¢ä¼šè´´å‡ºä¸€äº›æ•™ç¨‹é“¾æ¥ï¼Œæ²¡äº†è§£è¿‡çš„å°±å½“ç§‘æ™®äº†ï¼Œäº†è§£è¿‡çš„å°±ç›´æ¥è·³è¿‡


![image](http://upload-images.jianshu.io/upload_images/2974769-e12580d4548ae690?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

ç°åœ¨è¿˜å·®å‡ ä¸ª star å°±è¶…è¿‡ Mozilla åœ¨æ¨¡æ¿è¯­è¨€ Freemarker ä¸­æ’å star å…¨çƒç¬¬ä¸€äº†ï¼Œè®©æˆ‘å¾—ç‘Ÿä¸€ä¸‹ğŸ˜


![image](http://upload-images.jianshu.io/upload_images/2974769-7bedd83c5eb7c978?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## Live Templates

Live Templates çš„åŠŸèƒ½ä¸»è¦æ˜¯æ ¹æ®å…³é”®å­—å¿«é€Ÿç”Ÿæˆä»£ç å—


![image](http://upload-images.jianshu.io/upload_images/2974769-b708734058e28f8b?imageMogr2/auto-orient/strip)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            

åœ¨è®¾ç½®ä¸­æ‰¾åˆ° Live Templatesï¼Œç‚¹å‡»çº¢æ¡†ä¸­çš„æŒ‰é’® "+"ï¼Œå³å¯æ–°å»º Live Templates


![image](http://upload-images.jianshu.io/upload_images/2974769-06f499d2bc389c16?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


## File Templates
File Templates é¡¾åæ€ä¹‰ï¼Œä¸»è¦åŠŸèƒ½å°±æ˜¯ä¸€é”®ç”Ÿæˆå•ä¸ªæ–‡ä»¶


![image](http://upload-images.jianshu.io/upload_images/2974769-ac257dcc05784a7c?imageMogr2/auto-orient/strip)

åœ¨è®¾ç½®ä¸­æ‰¾åˆ° File and Code Templatesï¼Œç‚¹å‡»çº¢æ¡†ä¸­çš„æŒ‰é’® "+"ï¼Œå³å¯æ–°å»º File Templates


![image](http://upload-images.jianshu.io/upload_images/2974769-21da25a356300083?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## Activity Templates
Activity Templates å¯ä»¥ä¸€é”®ç”Ÿæˆå¤šä¸ªæ–‡ä»¶ï¼Œä½†ä¸å…‰å¯ä»¥ç”Ÿæˆ Activity æ–‡ä»¶ï¼Œè¿˜å¯ä»¥æ ¹æ®éœ€æ±‚ç”Ÿæˆä»»ä½• Java æ–‡ä»¶ã€XML æ–‡ä»¶ä»¥åŠå…¶ä»–ç±»å‹çš„æ–‡ä»¶


![image](http://upload-images.jianshu.io/upload_images/2974769-e0d264a482e88d8e?imageMogr2/auto-orient/strip)

æ–°å»º Activity Templates è¦æ¯”ä¸Šé¢çš„ä¸¤ä¸ªæ¨¡æ¿å¤æ‚çš„å¤šï¼Œéœ€è¦ä½¿ç”¨åˆ° FreeMarkerï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹ï¼Œå¯ä»¥çœ‹çœ‹æˆ‘å¼€æºçš„ [Activity Templates](https://github.com/JessYanCoding/MVPArmsTemplate)ï¼Œç¨å¾®ä¿®æ”¹ä¸€ä¸‹å°±èƒ½åº”ç”¨åˆ°è‡ªå·±çš„é¡¹ç›®å½“ä¸­

## module Templates
module Templates å¯ä»¥ä¸€é”®ç”Ÿæˆ Module ä»¥åŠ Module ä¸­æ‰€éœ€è¦çš„æ‰€æœ‰æ–‡ä»¶


![image](http://upload-images.jianshu.io/upload_images/2974769-dc02ba6b268e0745?imageMogr2/auto-orient/strip)

module Templates ä¹Ÿæ˜¯ä½¿ç”¨ FreeMarker åˆ›å»ºçš„ï¼Œå¦‚æœä½ èƒ½ç†è§£ Activity Templatesï¼Œé‚£ä½ ä¹Ÿå¯ä»¥å¿«é€Ÿçš„æ–°å»ºä¸€ä¸ª module Templates

## è¯¦è§£ module Templates
ä¸çŸ¥é“å¤§å®¶äº†è§£è¿‡ä¸€é”®ç”Ÿæˆ Module çš„ Android Stuidio æ¨¡æ¿å—ï¼Œè¿™ç§ç±»å‹çš„æ¨¡æ¿æˆ‘åœ¨ç½‘ä¸Šæ²¡æœåˆ°æœ‰ç›¸å…³çš„å¼€æºåº“å’Œæ–‡ç« ï¼Œæ‰€ä»¥æˆ‘å°±è‡ªå·±ç ”ç©¶äº†ä¸€æ®µæ—¶é—´ï¼Œåœ¨å»å¹´å°±å¼€æºç»™äº† MVPArms çš„ä½¿ç”¨è€…

Module Templates å…¶å®è¦æ¯” Activity Templates ç®€å•å¾ˆå¤šï¼Œå› ä¸º Module Templates çš„æŸäº›é™åˆ¶ï¼Œå¯¼è‡´å®ƒçš„é…ç½®é¢æ¿ä¸èƒ½è‡ªå®šä¹‰ä¸€äº›æ–°å¢çš„åŠŸèƒ½ï¼Œæ‰€ä»¥å¤æ‚æ€§é™ä½å¾ˆå¤šï¼Œä½†æ˜¯åŠŸèƒ½æ€§å’Œçµæ´»æ€§å°±è¦å¼±äº Activity Templatesï¼Œä¸è¿‡å³ä½¿è¿™æ ·ä¹Ÿèƒ½æ»¡è¶³æˆ‘ä»¬å¤§éƒ¨åˆ†çš„éœ€æ±‚äº†

Android Studio ä¸­æ‰€æœ‰çš„ module Templates éƒ½æ”¾åœ¨ gradle-projects è¿™ä¸ªç›®å½•ä¸­ï¼ˆAndroid Studio å®‰è£…ç›®å½•/plugins/android/lib/templates/gradle-projectsï¼‰ï¼Œå¦‚æœæŒ‰ç…§å¾ˆå¤šæ•™ç¨‹ä¸­å¯¹ Activity Templates å­¦ä¹ æ–¹æ³•çš„æè¿°ï¼Œæˆ‘ä»¬åº”è¯¥æŒ‰ç…§å’Œ Activity Templates ä¸€æ ·çš„å­¦ä¹ æ–¹å¼ï¼Œæ‰“å¼€ gradle-projects ç›®å½•ä¸­çš„ NewAndroidModule è¿›è¡Œå­¦ä¹ 


![image](http://upload-images.jianshu.io/upload_images/2974769-24df7f987cde4bc6?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


ä½†æ˜¯æˆ‘å¯ä»¥å‘Šè¯‰å¤§å®¶ï¼Œåœ¨ä½ æ²¡æœ‰è¶³å¤Ÿç»éªŒçš„æƒ…å†µä¸‹ï¼Œæœ€å¥½ä¸è¦è¿™æ ·åšï¼Œå› ä¸ºè¿™ä¸ªæ–‡ä»¶å¤¹ä¸­åŒ…å«ç€ Android Studio åˆ›å»º Android Module æ‰€éœ€è¦çš„æ‰€æœ‰æ–‡ä»¶å’Œä»£ç ï¼Œé‡Œé¢æ¯”è¾ƒå¤æ‚ï¼Œæœ‰å¾ˆå¤šåˆ¤æ–­æ¡ä»¶ï¼Œå¾ˆå¤šä¸œè¥¿å¯¹ä½ çš„é¡¹ç›®æ¥è¯´éƒ½ç”¨ä¸åˆ°ï¼Œåœ¨å­¦ä¹ æ—¶ä¼šè€½è¯¯ä½ å¾ˆå¤šæ—¶é—´


![image](http://upload-images.jianshu.io/upload_images/2974769-97b367d979f63a87?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

æ‰€ä»¥ä¸ºäº†è®©å¤§å®¶å¿«é€Ÿä¸Šæ‰‹ï¼Œæˆ‘å°±ç”¨æˆ‘å·²ç»å¼€æºçš„ [module Templates](https://github.com/JessYanCoding/MVPArms-Module-Template) ä½œä¸ºå­¦ä¹ æ¡ˆä¾‹ï¼Œé‡Œé¢çš„æ‰€æœ‰æ–‡ä»¶å’Œä»£ç éƒ½æ˜¯ç»è¿‡æˆ‘ç­›é€‰è¿‡åæå–å‡ºæ¥çš„ï¼Œéå¸¸æ˜“äºå¤§å®¶å­¦ä¹ å’Œç†è§£

## module Templates ç»“æ„

```
NewArmsComponent
â”œâ”€â”€ root
â”‚   â”œâ”€â”€ res //Module ä¸­çš„èµ„æºæ–‡ä»¶éƒ½æ”¾è¿™é‡Œ
â”‚   â”œâ”€â”€ â”œâ”€â”€ anim
â”‚   â”œâ”€â”€ â”œâ”€â”€ layout
â”‚   â”œâ”€â”€ â”œâ”€â”€ mipmap-hdpi
â”‚   â”œâ”€â”€ â”œâ”€â”€ mipmap-xhdpi
â”‚   â”œâ”€â”€ â”œâ”€â”€ mipmap-xxhdpi
â”‚   â”œâ”€â”€ â”œâ”€â”€ mipmap-xxxhdpi
â”‚   â”œâ”€â”€ â”œâ”€â”€ values
â”‚   â”œâ”€â”€ src/app_package   //Module ä¸­çš„æºæ–‡ä»¶æ¨¡æ¿éƒ½æ”¾è¿™é‡Œ
â”‚   â”œâ”€â”€ â”œâ”€â”€ ActivityLifecycleCallbacksImpl.java.ftl
â”‚   â”œâ”€â”€ â”œâ”€â”€ Api.java.ftl
â”‚   â”œâ”€â”€ â”œâ”€â”€ AppLifecyclesImpl.java.ftl
â”‚   â”œâ”€â”€ â”œâ”€â”€ ...
â”‚   â”œâ”€â”€ test/app_package   //Module ä¸­çš„æµ‹è¯•æ–‡ä»¶æ¨¡æ¿éƒ½æ”¾è¿™é‡Œ
â”‚   â”œâ”€â”€ â”œâ”€â”€ ExampleInstrumentedTest.java.ftl
â”‚   â”œâ”€â”€ â”œâ”€â”€ ExampleUnitTest.java.ftl
â”‚   â”œâ”€â”€ AndroidManifest.xml.ftl   //AndroidManifest.xml æ¨¡æ¿æ–‡ä»¶
â”‚   â”œâ”€â”€ CMakeLists.txt.ftl   //ä¸ç”¨ CMake å¯ä»¥å¿½ç•¥
â”‚   â”œâ”€â”€ build.gradle.ftl   //App build.gradle æ¨¡æ¿æ–‡ä»¶
â”‚   â”œâ”€â”€ native-lib.cpp.ftl   //ä¸ç”¨ C å¯ä»¥å¿½ç•¥
â”‚   â”œâ”€â”€ root-build.gradle.ftl   //æ ¹ç›®å½• build.gradle æ¨¡æ¿æ–‡ä»¶
â”‚   â”œâ”€â”€ settings.gradle.ftl   //settings.gradle æ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ globals.xml.ftl
â”œâ”€â”€ recipe.xml.ftl
â”œâ”€â”€ template.xml
â”œâ”€â”€ template_new_project.png
```
root æ–‡ä»¶å¤¹ä¸‹åŒ…å«çš„æ˜¯ç”Ÿæˆ Module æ‰€éœ€è¦çš„æ¨¡æ¿æ–‡ä»¶ï¼Œtemplate_new_project.png æ˜¯æ¨¡æ¿çš„å°é¢å›¾ï¼Œglobals.xml.ftl æˆ‘ä»¬æš‚æ—¶ç”¨ä¸åˆ°ï¼Œrecipe.xml.ftlã€template.xml è¿™ä¸¤ä¸ªæ–‡ä»¶å­˜æ”¾çš„æ˜¯æ¨¡æ¿çš„é…ç½®å‚æ•°ï¼Œæ˜¯æ•´ä¸ªæ¨¡æ¿çš„æ ¸å¿ƒæ–‡ä»¶ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸¤ä¸ªæ–‡ä»¶

## template.xml
template.xml æ”¾ç½®çš„æ˜¯é…ç½®é¢æ¿çš„å‚æ•°ï¼Œé…ç½®é¢æ¿æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿçœ‹ä¸‹å›¾


![image](http://upload-images.jianshu.io/upload_images/2974769-b55dcd2c7f345ceb?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

module Templates å’Œ Activity Templates çš„é…ç½®é¢æ¿ä¸ä¸€æ ·ï¼ŒActivity Templates å¯ä»¥ä»»æ„ä¿®æ”¹å’Œæ–°å¢é…ç½®é¢æ¿ä¸­çš„é¡¹ç›®ï¼Œä½†æ˜¯ module Templates ä¸å¯ä»¥ï¼Œåªèƒ½å›ºå®šä¸ºå›¾ä¸­çš„è¿™å››é¡¹

çœ‹çœ‹ template.xml é‡Œé¢çš„å†…å®¹

```xml
<?xml version="1.0"?>
<template
    format="5"
    revision="2"
    name="MVPArms Module"
    description="Creates a new MVPArms Module.">

    <category value="Application" />

    <formfactor value="Things" />

----------------------- åˆ†å‰²çº¿ -----------------------
    <thumbs>
        <thumb>template_new_project.png</thumb>
    </thumbs>
    
    <parameter
        id="packageName"
        name="Package name"
        type="string"
        constraints="app_package|nonempty"
        default="com.mycompany.myapp" />
        
    ...
    
 <globals file="globals.xml.ftl" />
 <execute file="recipe.xml.ftl" />
</template>        
```

åªç”¨çœ‹åˆ†å‰²çº¿ä»¥ä¸Šçš„æ ‡ç­¾å³å¯ï¼Œä¸‹é¢çš„æ ‡ç­¾åŸºæœ¬ç”¨ä¸ä¸Šï¼Œæ¯ä¸ª parameter æ ‡ç­¾åœ¨é…ç½®é¢æ¿ä¸­éƒ½å¯¹åº”ä¸€ä¸ªé¡¹ç›®ï¼Œä½† parameter æ ‡ç­¾åªåœ¨ Activity Templates ä¸­å¯ä»¥ä»»æ„ä¿®æ”¹å’Œæ–°å¢ï¼Œåœ¨ module Templates ä¸­çš„ä»»ä½•ä¿®æ”¹å’Œæ–°å¢éƒ½æ˜¯æ— æ•ˆçš„ï¼Œè¿™ç‚¹å¤§å®¶å¯ä»¥è¯•è¯•

name æ ‡ç­¾å’Œ description æ ‡ç­¾é¡¾åæ€ä¹‰ï¼Œè¿™å°±ä¸ç”¨å¤šè§£é‡Šäº†ï¼Œcategory æ ‡ç­¾å›ºå®šä¸º Application å³å¯

è¿™é‡Œè¦ç‰¹åˆ«è¦æä¸€ä¸‹ formfactor æ ‡ç­¾ï¼Œåœ¨ NewAndroidModule ä¸­ï¼Œformfactor æ ‡ç­¾çš„å€¼ä¸º Mobileï¼Œæœ€å¼€å§‹æˆ‘ä¹Ÿå’Œå®ƒä¸€æ ·ï¼Œå°†å€¼èµ‹ä¸º Mobileï¼Œç»“æœå‘ç°æ— æ³•ç”Ÿæˆæ–‡ä»¶ï¼Œæˆ‘æƒ³å¯èƒ½æ˜¯ Android Studio åªå…è®¸å­˜åœ¨ä¸€ä¸ª Android çš„ Module æ¨¡æ¿ï¼Œæˆ‘åˆè¯•ç€æ”¹æˆäº† TVã€Glassã€Wear ...ï¼Œå‘ç°éƒ½ä¸å®Œç¾ï¼Œè¦ä¸æ˜¯æ— æ³•ç”Ÿæˆæ–‡ä»¶ï¼Œè¦ä¸å°±ç”Ÿæˆå¤ªå¤šä¸éœ€è¦çš„æ–‡ä»¶ï¼Œæœ€åæ”¹æˆ Things åï¼Œæ•ˆæœå°±æ¥è¿‘å®Œç¾äº†

## recipe.xml.ftl
recipe.xml.ftl çš„åŠŸèƒ½å°±æ˜¯å‘Šè¯‰æ¨¡æ¿å¼•æ“ï¼Œä½ æ‰“ç®—æ€ä¹ˆå¤„ç†ä½ çš„æ¨¡æ¿æ–‡ä»¶

```xml
<?xml version="1.0"?>
<!-- TODO: check include Cpp support; add driver module template -->
<recipe>
    <mkdir at="${escapeXmlAttribute(projectOut)}/libs" />
    <mkdir at="${escapeXmlAttribute(resOut)}/anim" />
    <mkdir at="${projectOut}/src/main/java/${slashedPackageName(packageName)}/app/utils" />

    <merge from="root/settings.gradle.ftl"
             to="${escapeXmlAttribute(topOut)}/settings.gradle" />
    <merge from="root/root-build.gradle.ftl"
             to="${escapeXmlAttribute(topOut)}/build.gradle" />
             
    <copy from="root/res/mipmap-hdpi/ic_launcher.png"
        to="${escapeXmlAttribute(resOut)}/mipmap-hdpi/ic_launcher.png" />
    <copy from="root/res/mipmap-xhdpi/ic_launcher.png"
        to="${escapeXmlAttribute(resOut)}/mipmap-xhdpi/ic_launcher.png" />
    <copy from="root/res/mipmap-xxhdpi/ic_launcher.png"
        to="${escapeXmlAttribute(resOut)}/mipmap-xxhdpi/ic_launcher.png" />
    <copy from="root/res/mipmap-xxxhdpi/ic_launcher.png"
        to="${escapeXmlAttribute(resOut)}/mipmap-xxxhdpi/ic_launcher.png" />                  

    <instantiate from="root/build.gradle.ftl"
                   to="${escapeXmlAttribute(projectOut)}/build.gradle" />
    <instantiate from="root/AndroidManifest.xml.ftl"
                   to="${escapeXmlAttribute(manifestOut)}/AndroidManifest.xml" />
    <instantiate from="root/res/values/styles.xml.ftl"
                   to="${escapeXmlAttribute(resOut)}/values/styles.xml" />

    <instantiate from="root/src/app_package/GlobalConfiguration.java.ftl"
                   to="${projectOut}/src/main/java/${slashedPackageName(packageName)}/app/GlobalConfiguration.java" />
    <open file="${projectOut}/src/main/java/${slashedPackageName(packageName)}/app/GlobalConfiguration.java" />
    <instantiate from="root/src/app_package/AppLifecyclesImpl.java.ftl"
                   to="${projectOut}/src/main/java/${slashedPackageName(packageName)}/app/AppLifecyclesImpl.java" />
    <open file="${projectOut}/src/main/java/${slashedPackageName(packageName)}/app/AppLifecyclesImpl.java" />
       
<#if unitTestsSupported>
    <instantiate from="root/test/app_package/ExampleUnitTest.java.ftl"
                   to="${escapeXmlAttribute(unitTestOut)}/ExampleUnitTest.java" />
</#if>          
</recipe>
```

Module æ‰€éœ€è¦çš„æ¨¡æ¿æ–‡ä»¶éƒ½æ”¾åœ¨ root æ–‡ä»¶å¤¹ä¸‹ï¼Œè€Œä½¿ç”¨ recipe.xml.ftl ä¸­çš„æ ‡ç­¾å°±æ˜¯ä¸ºäº†å‘Šè¯‰æ¨¡ç‰ˆå¼•æ“ï¼Œä½ æ‰“ç®—å°†å“ªä¸ªæ¨¡æ¿æ–‡ä»¶é€šè¿‡ä»€ä¹ˆæ–¹å¼æ”¾åˆ° Module ä¸­çš„ä»€ä¹ˆä½ç½®

mkdir æ ‡ç­¾ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ç”Ÿæˆä¸€ä¸ªç©ºçš„æ–‡ä»¶å¤¹

merge æ ‡ç­¾ä¸­çš„ from å¡«å†™æ¨¡æ¿æ–‡ä»¶çš„åœ°å€ï¼Œto å¡«å†™ Module ä¸­çš„ç›®æ ‡ä½ç½®ï¼Œmerge æ ‡ç­¾ä¼šå°† from ä¸­å¡«å†™çš„æ¨¡æ¿æ–‡ä»¶ï¼Œæ”¾åˆ° to ä¸­å¡«å†™çš„ç›®æ ‡ä½ç½®ä¸Šï¼Œå¦‚æœç›®æ ‡ä½ç½®å·²ç»å­˜åœ¨ä¸€ä¸ªç›¸åŒæ–‡ä»¶åçš„æ–‡ä»¶ï¼Œåˆ™å°†æ¨¡æ¿æ–‡ä»¶ä¸­çš„å…¨éƒ¨å†…å®¹å¤åˆ¶åˆ°å·²ç»å­˜åœ¨çš„æ–‡ä»¶ä¸­ï¼Œå¦åˆ™åˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶

copy æ ‡ç­¾ä¼šå°† from ä¸­å¡«å†™çš„æ–‡ä»¶ï¼Œæ”¾åˆ° to ä¸­å¡«å†™çš„ç›®æ ‡ä½ç½®ä¸Šï¼Œå¦‚æœç›®æ ‡ä½ç½®å·²ç»å­˜åœ¨ä¸€ä¸ªç›¸åŒæ–‡ä»¶åçš„æ–‡ä»¶ï¼Œåˆ™ä¼šè¦†ç›–æ­¤æ–‡ä»¶

instantiate æ ‡ç­¾ä¼šå°† from ä¸­å¡«å†™çš„æ¨¡æ¿æ–‡ä»¶ï¼Œæ”¾åˆ° to ä¸­å¡«å†™çš„ç›®æ ‡ä½ç½®ä¸Šï¼Œå¦‚æœç›®æ ‡ä½ç½®å·²ç»å­˜åœ¨ä¸€ä¸ªç›¸åŒæ–‡ä»¶åçš„æ–‡ä»¶ï¼Œåˆ™ä¼šè¦†ç›–æ­¤æ–‡ä»¶ï¼Œçœ‹æè¿°å’Œ copy æ ‡ç­¾å·®ä¸å¤šï¼Œé‚£å®ƒä»¬çš„åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

copy æ ‡ç­¾çš„ç›®æ ‡å¯¹è±¡æ˜¯æ™®é€šæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰ .ftl åç¼€çš„æ–‡ä»¶ï¼Œinstantiate æ ‡ç­¾çš„ç›®æ ‡å¯¹è±¡æ˜¯æ¨¡æ¿æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯æœ‰ .ftl åç¼€çš„æ–‡ä»¶ï¼Œé‚£æœ‰ .ftl åç¼€çš„æ–‡ä»¶å’Œæ²¡æœ‰ .ftl åç¼€çš„æ–‡ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ

æœ‰ .ftl åç¼€çš„æ–‡ä»¶ä¸­å¯ä»¥ä½¿ç”¨ FreeMarker è¯­æ³•ï¼Œåœ¨ç”Ÿæˆæ–‡ä»¶æ—¶ï¼Œæ¨¡ç‰ˆå¼•æ“ä¼šæ ¹æ®æ–‡ä»¶ä¸­çš„ FreeMarker è¯­æ³•å¯¹æ–‡ä»¶å†…å®¹è¿›è¡Œç›¸åº”çš„ä¿®æ”¹ï¼Œæ¯”å¦‚æ ¹æ®ä¸åŒçš„æ¡ä»¶ç”Ÿæˆä¸åŒçš„å†…å®¹ï¼Œè€Œæ²¡æœ‰ .ftl åç¼€çš„æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­çš„å†…å®¹ä¸€æ—¦ç¡®å®šåœ¨ç”Ÿæˆæ—¶æ˜¯æ— æ³•æ”¹å˜çš„ï¼Œå°±å¦‚åŒå•çº¯çš„å¤åˆ¶ç²˜è´´

\${escapeXmlAttribute(resOut)} å¯¹åº”çš„æ˜¯ Module ä¸­çš„ res æ–‡ä»¶å¤¹

\${projectOut}/src/main/java/${slashedPackageName(packageName)} å¯¹åº”çš„æ˜¯åŒ…åä¸‹çš„æ ¹ç›®å½•

\${escapeXmlAttribute(topOut)} å¯¹åº”çš„æ˜¯æ•´ä¸ªå·¥ç¨‹çš„æ ¹ç›®å½•

\${escapeXmlAttribute(projectOut)} å¯¹åº”çš„æ˜¯ Module çš„æ ¹ç›®å½•

\${escapeXmlAttribute(manifestOut)} å¯¹åº”çš„æ˜¯æ”¾ç½® AndroidManifest.xml çš„æ–‡ä»¶å¤¹

\${escapeXmlAttribute(testOut)} å¯¹åº”çš„æ˜¯ Module ä¸­æ”¾ç½®æµ‹è¯•æ–‡ä»¶çš„æ–‡ä»¶å¤¹

## æ¨¡æ¿æ–‡ä»¶
root æ–‡ä»¶å¤¹ä¸‹æ¨¡æ¿æ–‡ä»¶çš„ç¼–å†™ä¹Ÿä¸éš¾ï¼Œå› ä¸º module Templates æ²¡æœ‰ç”¨åˆ°è‡ªå®šä¹‰å˜é‡ï¼Œæ‰€ä»¥å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå°±æ˜¯å°†ä½ å†™å¥½çš„ java æ–‡ä»¶ï¼Œåé¢åŠ ä¸Š .ftl åç¼€å³å¯ï¼Œçœ‹çœ‹ä¸‹é¢æˆ‘è´´å‡ºçš„æºä»£ç é“¾æ¥ï¼Œä½ å¾ˆå¿«å°±èƒ½ä¸Šæ‰‹

ä½ å¦‚æœè¿˜æƒ³å­¦åˆ°æ›´å¤šçš„ FreeMarker è¯­æ³•ï¼Œå¯ä»¥ç¿»ç¿»ä¸‹é¢è´´å‡ºçš„ FreeMarker ä¸­æ–‡æ–‡æ¡£

## å¼€æºä»£ç é“¾æ¥
[æˆ‘ç»™ MVPArms å†™çš„ File Templates](https://github.com/JessYanCoding/MVPArms/blob/master/MVP_generator_solution)

[æˆ‘ç»™ MVPArms å†™çš„ Activity Templates](https://github.com/JessYanCoding/MVPArmsTemplate)

[æˆ‘ç»™ MVPArms å†™çš„ module Templates](https://github.com/JessYanCoding/MVPArms-Module-Template)

[æˆ‘ç»™ç»„ä»¶åŒ–é¡¹ç›®å†™çš„ module Templates](https://github.com/JessYanCoding/ArmsComponent-Template)


## æ•™ç¨‹é“¾æ¥
[å¿«é€Ÿå†™å‡º Activity Templates çš„æ’ä»¶](https://www.jianshu.com/p/e3548f441440)

[Live Templates æ•™ç¨‹](https://www.jianshu.com/p/065877f0c33d)

[File Templates æ•™ç¨‹](https://www.jianshu.com/p/57e734864b46)

[Activity Templates æ•™ç¨‹](https://blog.csdn.net/lmj623565791/article/details/51635533)

[FreeMarker ä¸­æ–‡æ–‡æ¡£](http://freemarker.foofun.cn/toc.html)

## å…¬ä¼—å·
æ‰«ç å…³æ³¨æˆ‘çš„å…¬ä¼—å· JessYanï¼Œä¸€èµ·å­¦ä¹ è¿›æ­¥ï¼Œå¦‚æœæ¡†æ¶æœ‰æ›´æ–°ï¼Œæˆ‘ä¹Ÿä¼šåœ¨å…¬ä¼—å·ä¸Šç¬¬ä¸€æ—¶é—´é€šçŸ¥å¤§å®¶


![image](http://upload-images.jianshu.io/upload_images/2974769-222576128821ca4a?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

---
**Hello æˆ‘å« JessYanï¼Œå¦‚æœæ‚¨å–œæ¬¢æˆ‘çš„æ–‡ç« ï¼Œå¯ä»¥åœ¨ä»¥ä¸‹å¹³å°å…³æ³¨æˆ‘**

* ä¸ªäººä¸»é¡µ: <http://jessyan.me>
* GitHub: <https://github.com/JessYanCoding>
* æ˜é‡‘: <https://gold.xitu.io/user/57a9dbd9165abd0061714613>
* ç®€ä¹¦: <http://www.jianshu.com/u/1d0c0bc634db>
* å¾®åš: <http://weibo.com/u/1786262517>

-- The end